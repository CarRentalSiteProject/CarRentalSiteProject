<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>註冊 - Prime Drive</title>
    <!-- Bootstrap core CSS -->
    <link href="bootstrap_theme/bootstrap.css" rel="stylesheet" type="text/css">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="blocks.css">
    <link href="style.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="text-muted">
    <header class="bg-dark">
        <nav class="navbar navbar-dark navbar-expand-lg shadow-none"> 
            <div class="container"> 
                <a class="align-items-center d-inline-flex fw-bold h4 mb-0 navbar-brand text-primary text-uppercase" href="#"> 
                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 100 100" width="2.5em" height="2.5em" class="me-1" fill="currentColor">
                        <path d="M38.333 80a11.571 11.571 0 0 1-7.646-2.883A11.724 11.724 0 0 1 26.834 70H10V46.667L43.333 40l20-20H90v26.667H43.995l-27.328 5.465v11.2h11.166a11.787 11.787 0 0 1 4.212-4.807 11.563 11.563 0 0 1 12.577 0 11.789 11.789 0 0 1 4.213 4.807h7.833V70h-6.837a11.719 11.719 0 0 1-3.853 7.117A11.571 11.571 0 0 1 38.333 80Zm0-16.667a5 5 0 1 0 5 5 5.006 5.006 0 0 0-5.001-5Zm27.761-36.666L52.762 40h30.571V26.667Z"/>
                        <path d="M56.667 63.333h-7.833a11.6 11.6 0 0 0-21 0H16.667v-11.2l27.328-5.465h12.672Z" opacity="0.2"/>
                        <path d="M90 63.333H80v-10h-6.667v10h-10V70h10v10H80V70h10Z"/>
                        <path d="M52.762 40h30.571V26.667H66.094Z" opacity="0.2"/>
                    </svg>
                    <span>Prime Drive</span>
                </a> 
                <button class="navbar-toggler rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown-2" aria-controls="navbarNavDropdown-2" aria-expanded="false" aria-label="Toggle navigation"> 
                    <span class="navbar-toggler-icon"></span> 
                </button>                     
                <div class="collapse navbar-collapse" id="navbarNavDropdown-2"> 
                    <ul class="me-auto navbar-nav"> 
                        <li class="nav-item"><a class="nav-link p-lg-3" href="#">首頁</a></li>
                        <li class="nav-item"><a class="nav-link p-lg-3" href="#">優惠</a></li>
                        <li class="nav-item"><a class="nav-link p-lg-3" href="#">地點</a></li>
                        <li class="nav-item"><a class="nav-link p-lg-3" href="#">車隊</a></li>
                        <li class="nav-item"><a class="nav-link p-lg-3" href="#">支援</a></li>
                    </ul>
                    <div class="d-flex flex-wrap gap-2 py-1"> 
                        <a href="/login" class="btn btn-outline-primary pe-4 ps-4">登入</a>
                        <a href="/signup" class="btn btn-primary pe-4 ps-4">註冊</a>
                    </div>                         
                </div>                     
            </div>                 
        </nav>
    </header>

    <main class="container mt-5">
        <h2>註冊新帳戶</h2>
        <form id="signupForm">
            <div class="mb-3">
                <label for="username" class="form-label">用戶名</label>
                <input type="text" class="form-control" id="username" name="username" required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">密碼</label>
                <input type="password" class="form-control" id="password" name="password" required>
            </div>
            <button type="submit" class="btn btn-primary">註冊</button>
        </form>
    </main>

    <footer class="bg-dark text-light mt-5">
        <div class="container py-5">
            <!-- 保留原有的頁腳內容 -->
        </div>
        <div class="pb-3 pt-3"> 
            <hr class="border-secondary mt-0"> 
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md pb-2 pt-2">
                        <p class="mb-0">&copy; 2002 - 2024. 版權所有 - Prime Drive</p>
                    </div>
                    <div class="col-md-auto pb-2 pt-2">
                        <a href="#" class="link-light">隱私政策</a> | 
                        <a href="#" class="link-light">使用條款</a>
                    </div>
                </div>                         
            </div>                     
        </div>                 
    </footer>

    <script>
    $(document).ready(function() {
        $("#signupForm").submit(function(event) {
            event.preventDefault();
            var formData = {
                username: $("#username").val(),
                password: $("#password").val()
            };

            $.ajax({
                type: "POST",
                contentType: "application/json",
                url: "/signup",
                data: JSON.stringify(formData),
                dataType: 'json',
                success: function(result) {
                    alert("註冊成功！");
                    window.location.href = "/login";
                },
                error: function(e) {
                    alert("註冊失敗：" + e.responseText);
                }
            });
        });
    });
    </script>
</body>
</html>